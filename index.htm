<!DOCTYPE html>
<html>
<head>
<style>
.block{
  overflow:hidden;
}

.trow {
      display: table-row;
}
.alignL {
  font-weight: bold;
}
.alignL, .alignR {
      display: table-cell;
      padding-right: 25px;
}
.alignR {
    margin: 1px 1px;
}

</style>
</head>
<body>
<h1>Present Panchang</h1>
<h2>Panchang as of now</h2>
<script src="./panchang.js"></script>
<div class="trow">
<div class="alignL">Tithi: </div><div id="tithi" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">Tithi Start: </div><div id="s_tithi_start" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">Tithi End: </div><div id="s_tithi_end" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">Nakshtra: </div><div id="nakshtra" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">Nakshtra Start: </div><div id="s_nakshtra_start" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">Nakshtra End: </div><div id="s_nakshtra_end" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">Karna: </div><div id="karna" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">Karna Start: </div><div id="s_karna_start" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">Karna End: </div><div id="s_karna_end" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">Yoga: </div><div id="yoga" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">Yoga Start: </div><div id="s_yoga_start" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">Yoga End: </div><div id="s_yoga_end" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL" >Day: </div><div id="day" class="alignR"></div>
</div>
<script>
    var t= new Date();
    panchang.calculate(t, function() {
    document.getElementById("tithi").innerHTML=panchang.Tithi.name;
    document.getElementById("s_tithi_start").innerHTML=panchang.Tithi.start;
    document.getElementById("s_tithi_end").innerHTML=panchang.Tithi.end;
    document.getElementById("nakshtra").innerHTML=panchang.Nakshatra.name;
    document.getElementById("s_nakshtra_start").innerHTML=panchang.Nakshatra.start;
    document.getElementById("s_nakshtra_end").innerHTML=panchang.Nakshatra.end;
    document.getElementById("karna").innerHTML=panchang.Karna.name;
    document.getElementById("s_karna_start").innerHTML=panchang.Karna.start;
    document.getElementById("s_karna_end").innerHTML=panchang.Karna.end;
    document.getElementById("yoga").innerHTML=panchang.Yoga.name;
    document.getElementById("s_yoga_start").innerHTML=panchang.Yoga.start;
    document.getElementById("s_yoga_end").innerHTML=panchang.Yoga.end;
    document.getElementById("day").innerHTML=panchang.Day.name;
  });
</script>

<script src="./sun.js"></script>
<div class="trow">
<div class="alignL">Day Start: </div><div id="rise" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">Day End: </div><div id="rise1" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">Today: </div>
</div>
<div class="trow">
<div class="alignL">Sun Rise: </div><div id="riz" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">Sun Set: </div><div id="set" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">RahuKalam: </div>
</div>
<div class="trow">
<div class="alignL">RahuKalam Start: </div><div id="rkst" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">RahuKalam End: </div><div id="rkft" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">YamaGandam: </div>
</div>
<div class="trow">
<div class="alignL">YamaGandam Start: </div><div id="ygst" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">YamaGandam End: </div><div id="ygft" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">GulikaKakam: </div>
</div>
<div class="trow">
<div class="alignL">GulikaKakam Start: </div><div id="gkst" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">GulikaKakam End: </div><div id="gkft" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">DurMuhurtam: </div>
</div>
<div class="trow">
<div class="alignL">DurMuhurtam Start: </div><div id="dmst" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">DurMuhurtam End: </div><div id="dmft" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">DurMuhurtam Start: </div><div id="dmbt" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">DurMuhurtam End: </div><div id="dmet" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">Varjyam: </div>
</div>
<div class="trow">
<div class="alignL">Varjyam Start: </div><div id="vjst" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">Varjyam End: </div><div id="vjft" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">AmrutKalam: </div>
</div>
<div class="trow">
<div class="alignL">AmrutKalam Start: </div><div id="akst" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">AmrutKalam End: </div><div id="akft" class="alignR"></div>
</div>
<script>
navigator.geolocation.getCurrentPosition(function(position) {
   	var srise = new Date().sunrise(position.coords.latitude, position.coords.longitude);
   	var sset = new Date().sunset(position.coords.latitude, position.coords.longitude);
   	var srise1 = new Date(srise.getTime() + (24 * 60 * 60 * 1000)).sunrise(position.coords.latitude, position.coords.longitude);
    var daylen = Math.floor(sset - srise);
    var daypart = Math.floor(daylen / 8);
    var daypart0 = srise;
    var daypart1 = new Date(Math.floor((daypart0.getTime() + daypart)));
    var daypart2 = new Date(Math.floor((daypart1.getTime() + daypart)));
    var daypart3 = new Date(Math.floor((daypart2.getTime() + daypart)));
    var daypart4 = new Date(Math.floor((daypart3.getTime() + daypart)));
    var daypart5 = new Date(Math.floor((daypart4.getTime() + daypart)));
    var daypart6 = new Date(Math.floor((daypart5.getTime() + daypart)));
    var daypart7 = new Date(Math.floor((daypart6.getTime() + daypart)));
    var daypart8 = new Date(Math.floor((daypart7.getTime() + daypart)));
//    var dms = daypart7;
//    var dmf = daypart8;
    var vjs = daypart1;
    var vjf = daypart2;
    var aks = daypart3;
    var akf = daypart4;
  var wday = new Date().getDay();
  switch(wday) {
  case 0:
    var rks = daypart7;
    var rkf = daypart8;
    var ygs = daypart4;
    var ygf = daypart5;
    var gks = daypart6;
    var gkf = daypart7;
    var dms = new Date(Math.floor(srise.getTime() + ((daylen * 10.4) / 12)));
    var dmf = new Date(Math.floor(dms.getTime() + (48 * 60 * 1000)));
    break;
  case 1:
    var rks = daypart1;
    var rkf = daypart2;
    var ygs = daypart3;
    var ygf = daypart4;
    var gks = daypart5;
    var gkf = daypart6;
    var dms = new Date(Math.floor(srise.getTime() + ((daylen * 6.4) / 12)));
    var dmf = new Date(Math.floor(dms.getTime() + (48 * 60 * 1000)));
    var dmb = new Date(Math.floor(srise.getTime() + ((daylen * 8.8) / 12)));
    var dme = new Date(Math.floor(dms.getTime() + (48 * 60 * 1000)));
    break;
  case 2:
    var rks = daypart6;
    var rkf = daypart7;
    var ygs = daypart2;
    var ygf = daypart3;
    var gks = daypart4;
    var gkf = daypart5;
    break;
  case 3:
    var rks = daypart4;
    var rkf = daypart5;
    var ygs = daypart1;
    var ygf = daypart2;
    var gks = daypart3;
    var gkf = daypart4;
    break;
  case 4:
    var rks = daypart5;
    var rkf = daypart6;
    var ygs = daypart0;
    var ygf = daypart1;
    var gks = daypart2;
    var gkf = daypart3;
    break;
  case 5:
    var rks = daypart3;
    var rkf = daypart4;
    var ygs = daypart6;
    var ygf = daypart7;
    var gks = daypart1;
    var gkf = daypart2;
    break;
  case 6:
    var rks = daypart2;
    var rkf = daypart3;
    var ygs = daypart5;
    var ygf = daypart6;
    var gks = daypart0;
    var gkf = daypart1;
    break;
  }
    document.getElementById("rise").innerHTML=srise;
    document.getElementById("rise1").innerHTML=srise1;
    document.getElementById("riz").innerHTML=srise;
    document.getElementById("set").innerHTML=sset;
    document.getElementById("rkst").innerHTML=rks;
    document.getElementById("rkft").innerHTML=rkf;
    document.getElementById("ygst").innerHTML=ygs;
    document.getElementById("ygft").innerHTML=ygf;
    document.getElementById("gkst").innerHTML=gks;
    document.getElementById("gkft").innerHTML=gkf;
    document.getElementById("dmst").innerHTML=dms;
    document.getElementById("dmft").innerHTML=dmf;
    document.getElementById("dmbt").innerHTML=dmb;
    document.getElementById("dmet").innerHTML=dme;
    document.getElementById("vjst").innerHTML=vjs;
    document.getElementById("vjft").innerHTML=vjf;
    document.getElementById("akst").innerHTML=aks;
    document.getElementById("akft").innerHTML=akf;
 });
</script>
</body>
</html>

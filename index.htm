<!DOCTYPE html>
<html>
<head>
<style>
.block{
  overflow:hidden;
}
.trow {
      display: table-row;
}
.alignL {
  font-weight: bold;
}
.alignL, .alignR {
      display: table-cell;
      padding-right: 25px;
}
.alignR {
    margin: 1px 1px;
}
</style>
</head>
<body>
<h1>Present Panchang</h1>
<h2>Panchang as of now</h2>
<script src="./panchang.js"></script>
<div class="trow">
<div class="alignL">Tithi: </div><div id="tithi" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">Tithi Start: </div><div id="s_tithi_start" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">Tithi End: </div><div id="s_tithi_end" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">Nakshtra: </div><div id="nakshtra" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">Nakshtra Start: </div><div id="s_nakshtra_start" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">Nakshtra End: </div><div id="s_nakshtra_end" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">Varjyam End: </div><div id="varft" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">Karna: </div><div id="karna" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">Karna Start: </div><div id="s_karna_start" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">Karna End: </div><div id="s_karna_end" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">Yoga: </div><div id="yoga" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">Yoga Start: </div><div id="s_yoga_start" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">Yoga End: </div><div id="s_yoga_end" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL" >Day: </div><div id="day" class="alignR"></div>
</div>
<script>
var A1=16.8;
var A2=19.2;
var A3=21.6;
var A4=20.8;
var A5=15.2;
var A6=14;
var A7=21.6;
var A8=17.6;
var A9=22.4;
var A10=21.6;
var A11=17.6;
var A12=16.8;
var A13=18;
var A14=17.6;
var A15=15.2;
var A16=15.2;
var A17=13.6;
var A18=15.2;
var A19=17.6;
var A20=19.2;
var A21=17.6;
var A22=13.6;
var A23=13.6;
var A24=16.8;
var A25=16;
var A26=19.2;
var A27=21.6;
var V1=20;
var V2=9.6;
var V3=12;
var V4=16;
var V5=5.6;
var V6=8.4;
var V7=12;
var V8=8;
var V9=12.8;
var V10=12;
var V11=8;
var V12=7.2;
var V13=8.4;
var V14=8;
var V15=5.6;
var V16=5.6;
var V17=4;
var V18=5.6;
var V19=8.4;
var V20=9.6;
var V21=8;
var V22=4;
var V23=4;
var V24=7.2;
var V25=6.4;
var V26=9.6;
var V27=12;
    var t= new Date();
    panchang.calculate(t, function() {
    document.getElementById("tithi").innerHTML=panchang.Tithi.name;
    document.getElementById("s_tithi_start").innerHTML=panchang.Tithi.start;
    document.getElementById("s_tithi_end").innerHTML=panchang.Tithi.end;
    document.getElementById("nakshtra").innerHTML=panchang.Nakshatra.name;
    var naks = document.getElementById("s_nakshtra_start").innerHTML=panchang.Nakshatra.start;
    var nakf = document.getElementById("s_nakshtra_end").innerHTML=panchang.Nakshatra.end;
    document.getElementById("karna").innerHTML=panchang.Karna.name;
    document.getElementById("s_karna_start").innerHTML=panchang.Karna.start;
    document.getElementById("s_karna_end").innerHTML=panchang.Karna.end;
    document.getElementById("yoga").innerHTML=panchang.Yoga.name;
    document.getElementById("s_yoga_start").innerHTML=panchang.Yoga.start;
    document.getElementById("s_yoga_end").innerHTML=panchang.Yoga.end;
    document.getElementById("day").innerHTML=panchang.Day.name;
    var naklen = (nakf - naks);
    var varf = new Date(Math.floor(naks.getTime() + (naklen * (N22 / 24))));
    document.getElementById("varft").innerHTML=naklen;
    });
</script>

<script src="./sun.js"></script>
<div class="trow">
<div class="alignL">Day Start: </div><div id="rise" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">Day End: </div><div id="rise1" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">Today: </div>
</div>
<div class="trow">
<div class="alignL">Sun Rise: </div><div id="riz" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">Sun Set: </div><div id="set" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">RahuKalam: </div>
</div>
<div class="trow">
<div class="alignL">RahuKalam Start: </div><div id="rkst" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">RahuKalam End: </div><div id="rkft" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">YamaGandam: </div>
</div>
<div class="trow">
<div class="alignL">YamaGandam Start: </div><div id="ygst" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">YamaGandam End: </div><div id="ygft" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">GulikaKakam: </div>
</div>
<div class="trow">
<div class="alignL">GulikaKakam Start: </div><div id="gkst" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">GulikaKakam End: </div><div id="gkft" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">DurMuhurtam: </div>
</div>
<div class="trow">
<div class="alignL">DurMuhurtam Start: </div><div id="dmst" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">DurMuhurtam End: </div><div id="dmft" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">DurMuhurtam Start: </div><div id="dmbt" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">DurMuhurtam End: </div><div id="dmet" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">Varjyam: </div>
</div>
<div class="trow">
<div class="alignL">Varjyam Start: </div><div id="vjst" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">Varjyam End: </div><div id="vjft" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">AmrutKalam: </div>
</div>
<div class="trow">
<div class="alignL">AmrutKalam Start: </div><div id="akst" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">AmrutKalam End: </div><div id="akft" class="alignR"></div>
</div>
<script>
navigator.geolocation.getCurrentPosition(function(position) {
   	var srise = new Date().sunrise(position.coords.latitude, position.coords.longitude);
   	var sset = new Date().sunset(position.coords.latitude, position.coords.longitude);
   	var srise1 = new Date(srise.getTime() + (24 * 60 * 60 * 1000)).sunrise(position.coords.latitude, position.coords.longitude);
    var daylen = Math.floor(sset - srise);
    var daypart = Math.floor(daylen / 8);
    var daypart0 = srise;
    var daypart1 = new Date(Math.floor((daypart0.getTime() + daypart)));
    var daypart2 = new Date(Math.floor((daypart1.getTime() + daypart)));
    var daypart3 = new Date(Math.floor((daypart2.getTime() + daypart)));
    var daypart4 = new Date(Math.floor((daypart3.getTime() + daypart)));
    var daypart5 = new Date(Math.floor((daypart4.getTime() + daypart)));
    var daypart6 = new Date(Math.floor((daypart5.getTime() + daypart)));
    var daypart7 = new Date(Math.floor((daypart6.getTime() + daypart)));
    var daypart8 = new Date(Math.floor((daypart7.getTime() + daypart)));
//    var dms = daypart7;
//    var dmf = daypart8;
    var vjs = daypart1;
    var vjf = daypart2;
    var aks = daypart3;
    var akf = daypart4;
  var wday = new Date().getDay();
  switch(wday) {
  case 0:
    var rks = daypart7;
    var rkf = daypart8;
    var ygs = daypart4;
    var ygf = daypart5;
    var gks = daypart6;
    var gkf = daypart7;
    var dms = new Date(Math.floor(srise.getTime() + ((daylen * 10.4) / 12)));
    var dmf = new Date(Math.floor(dms.getTime() + (48 * 60 * 1000)));
    break;
  case 1:
    var rks = daypart1;
    var rkf = daypart2;
    var ygs = daypart3;
    var ygf = daypart4;
    var gks = daypart5;
    var gkf = daypart6;
    var dms = new Date(Math.floor(srise.getTime() + ((daylen * 6.4) / 12)));
    var dmf = new Date(Math.floor(dms.getTime() + (48 * 60 * 1000)));
    var dmb = new Date(Math.floor(srise.getTime() + ((daylen * 8.8) / 12)));
    var dme = new Date(Math.floor(dmb.getTime() + (48 * 60 * 1000)));
    break;
  case 2:
    var rks = daypart6;
    var rkf = daypart7;
    var ygs = daypart2;
    var ygf = daypart3;
    var gks = daypart4;
    var gkf = daypart5;
    var dms = new Date(Math.floor(srise.getTime() + ((daylen * 2.4) / 12)));
    var dmf = new Date(Math.floor(dms.getTime() + (48 * 60 * 1000)));
    var niglen = Math.floor(srise1 - sset);
    var dmb = new Date(Math.floor(sset.getTime() + ((niglen * 4.8) / 12)));
    var dme = new Date(Math.floor(dmb.getTime() + (48 * 60 * 1000)));
    break;
  case 3:
    var rks = daypart4;
    var rkf = daypart5;
    var ygs = daypart1;
    var ygf = daypart2;
    var gks = daypart3;
    var gkf = daypart4;
    var dms = new Date(Math.floor(srise.getTime() + ((daylen * 5.6) / 12)));
    var dmf = new Date(Math.floor(dms.getTime() + (48 * 60 * 1000)));
    break;
  case 4:
    var rks = daypart5;
    var rkf = daypart6;
    var ygs = daypart0;
    var ygf = daypart1;
    var gks = daypart2;
    var gkf = daypart3;
    var dms = new Date(Math.floor(srise.getTime() + ((daylen * 4) / 12)));
    var dmf = new Date(Math.floor(dms.getTime() + (48 * 60 * 1000)));
    var dmb = new Date(Math.floor(srise.getTime() + ((daylen * 8.8) / 12)));
    var dme = new Date(Math.floor(dmb.getTime() + (48 * 60 * 1000)));
    break;
  case 5:
    var rks = daypart3;
    var rkf = daypart4;
    var ygs = daypart6;
    var ygf = daypart7;
    var gks = daypart1;
    var gkf = daypart2;
    var dms = new Date(Math.floor(srise.getTime() + ((daylen * 2.4) / 12)));
    var dmf = new Date(Math.floor(dms.getTime() + (48 * 60 * 1000)));
    var dmb = new Date(Math.floor(srise.getTime() + ((daylen * 6.4) / 12)));
    var dme = new Date(Math.floor(dmb.getTime() + (48 * 60 * 1000)));
    break;
  case 6:
    var rks = daypart2;
    var rkf = daypart3;
    var ygs = daypart5;
    var ygf = daypart6;
    var gks = daypart0;
    var gkf = daypart1;
    var dms = new Date(Math.floor(srise.getTime() + ((daylen * 1.6) / 12)));
    var dmf = new Date(Math.floor(dms.getTime() + (48 * 60 * 1000)));
    break;
  }
    document.getElementById("rise").innerHTML=srise;
    document.getElementById("rise1").innerHTML=srise1;
    document.getElementById("riz").innerHTML=srise;
    document.getElementById("set").innerHTML=sset;
    document.getElementById("rkst").innerHTML=rks;
    document.getElementById("rkft").innerHTML=rkf;
    document.getElementById("ygst").innerHTML=ygs;
    document.getElementById("ygft").innerHTML=ygf;
    document.getElementById("gkst").innerHTML=gks;
    document.getElementById("gkft").innerHTML=gkf;
    document.getElementById("dmst").innerHTML=dms;
    document.getElementById("dmft").innerHTML=dmf;
    document.getElementById("dmbt").innerHTML=dmb;
    document.getElementById("dmet").innerHTML=dme;
    document.getElementById("vjst").innerHTML=vjs;
    document.getElementById("vjft").innerHTML=vjf;
    document.getElementById("akst").innerHTML=aks;
    document.getElementById("akft").innerHTML=akf;
 });
</script>
</body>
</html>

d2r=Math.PI/180,r2d=180/Math.PI;var zn=["Mesha","Vrushabha","Mithuna","Karkataka","Simha","Kanya","Tula","Vrushchika","Dhanu","Makara","Kumbha","Meena"],wd=["Ravi","Soma","Mangal","Budha","Guru","Sukra","Sani"],range=[1,31,0,0,-3e3,4e3,0,23,0,59,-12,12,0,59],naks=["Aswini","Bharani","Krittika","Rohini","Mrigasira","Aardra","Punarvasu","Pushyami","Aslesha","Makha","Pubba","Uttara","Hasta","Chitta","Swati","Visakha","Anuradha","Jyesta","Moola","PurvAshada","UttarAshada","Sravanam","Dhanista","Satabhisha","PurvaBhadra","UttaraBhadra","Revati"],tith=["S-Padyami","S-Vidiya","S-Tadiya","S-Chaviti","S-Panchami","S-Shasti","S-Saptami","S-Ashtami","S-Navami","S-Dasami","S-Ekadasi","S-Dwadasi","S-Trayodasi","S-Chaturdasi","Poornima","B-Padyami","B-Vidiya","B-Tadiya","B-Chaviti","B-Panchami","B-Shasti","B-Saptami","B-Ashtami","B-Navami","B-Dasami","B-Ekadasi","B-Dwadasi","B-Trayodasi","B-Chaturdasi","Amavasya"],kar=["Bava","Balava","Kaulava","Taitula","Garaja","Vanija","Vishti","Sakuna","Chatushpada","Nagava","Kimstughna"],yog=["Vishkambha","Preeti","Ayushman","Saubhagya","Sobhana","Atiganda","Sukarman","Dhriti","Shoola","Ganda","Vridhi","Dhruva","Vyaghata","Harshana","Vajra","Siddhi","Vyatipata","Variyan","Parigha","Shiva","Siddha","Sadhya","Subha","Sukla","Brahma","Indra","Vaidhruti"],tipnaks=[2,5,6,0,1,4,3,2,4,5,5,0,2,1,3,6,1,4,4,5,0,3,3,3,5,0,1],Lmoon,Lsun,skor,LmoonYoga,LsunYoga,dt,ayanamsa=0;function corr(o,r,n,a,t){this.mlcor=o,this.mscor=r,this.fcor=n,this.dcor=a,this.lcor=t}function corr2(o,r,n,a,t){this.l=o,this.ml=r,this.ms=n,this.f=a,this.d=t}var corrMoon=new Array;i=0,corrMoon[i++]=new corr(0,0,0,4,13.902),corrMoon[i++]=new corr(0,0,0,2,2369.912),corrMoon[i++]=new corr(1,0,0,4,1.979),corrMoon[i++]=new corr(1,0,0,2,191.953),corrMoon[i++]=new corr(1,0,0,0,22639.5),corrMoon[i++]=new corr(1,0,0,-2,-4586.465),corrMoon[i++]=new corr(1,0,0,-4,-38.428),corrMoon[i++]=new corr(1,0,0,-6,-.393),corrMoon[i++]=new corr(0,1,0,4,-.289),corrMoon[i++]=new corr(0,1,0,2,-24.42),corrMoon[i++]=new corr(0,1,0,0,-668.146),corrMoon[i++]=new corr(0,1,0,-2,-165.145),corrMoon[i++]=new corr(0,1,0,-4,-1.877),corrMoon[i++]=new corr(0,0,0,3,.403),corrMoon[i++]=new corr(0,0,0,1,-125.154),corrMoon[i++]=new corr(2,0,0,4,.213),corrMoon[i++]=new corr(2,0,0,2,14.387),corrMoon[i++]=new corr(2,0,0,0,769.016),corrMoon[i++]=new corr(2,0,0,-2,-211.656),corrMoon[i++]=new corr(2,0,0,-4,-30.773),corrMoon[i++]=new corr(2,0,0,-6,-.57),corrMoon[i++]=new corr(1,1,0,2,-2.921),corrMoon[i++]=new corr(1,1,0,0,-109.673),corrMoon[i++]=new corr(1,1,0,-2,-205.962),corrMoon[i++]=new corr(1,1,0,-4,-4.391),corrMoon[i++]=new corr(1,-1,0,4,.283),corrMoon[i++]=new corr(1,-1,0,2,14.577),corrMoon[i++]=new corr(1,-1,0,0,147.687),corrMoon[i++]=new corr(1,-1,0,-2,28.475),corrMoon[i++]=new corr(1,-1,0,-4,.636),corrMoon[i++]=new corr(0,2,0,2,-.189),corrMoon[i++]=new corr(0,2,0,0,-7.486),corrMoon[i++]=new corr(0,2,0,-2,-8.096),corrMoon[i++]=new corr(0,0,2,2,-5.741),corrMoon[i++]=new corr(0,0,2,0,-411.608),corrMoon[i++]=new corr(0,0,2,-2,-55.173),corrMoon[i++]=new corr(0,0,2,-4,.025),corrMoon[i++]=new corr(1,0,0,1,-8.466),corrMoon[i++]=new corr(1,0,0,-1,18.609),corrMoon[i++]=new corr(1,0,0,-3,3.215),corrMoon[i++]=new corr(0,1,0,1,18.023),corrMoon[i++]=new corr(0,1,0,-1,.56),corrMoon[i++]=new corr(3,0,0,2,1.06),corrMoon[i++]=new corr(3,0,0,0,36.124),corrMoon[i++]=new corr(3,0,0,-2,-13.193),corrMoon[i++]=new corr(3,0,0,-4,-1.187),corrMoon[i++]=new corr(3,0,0,-6,-.293),corrMoon[i++]=new corr(2,1,0,2,-.29),corrMoon[i++]=new corr(2,1,0,0,-7.649),corrMoon[i++]=new corr(2,1,0,-2,-8.627),corrMoon[i++]=new corr(2,1,0,-4,-2.74),corrMoon[i++]=new corr(2,-1,0,2,1.181),corrMoon[i++]=new corr(2,-1,0,0,9.703),corrMoon[i++]=new corr(2,-1,0,-2,-2.494),corrMoon[i++]=new corr(2,-1,0,-4,.36),corrMoon[i++]=new corr(1,2,0,0,-1.167),corrMoon[i++]=new corr(1,2,0,-2,-7.412),corrMoon[i++]=new corr(1,2,0,-4,-.311),corrMoon[i++]=new corr(1,-2,0,2,.757),corrMoon[i++]=new corr(1,-2,0,0,2.58),corrMoon[i++]=new corr(1,-2,0,-2,2.533),corrMoon[i++]=new corr(0,3,0,-2,-.344),corrMoon[i++]=new corr(1,0,2,2,-.992),corrMoon[i++]=new corr(1,0,2,0,-45.099),corrMoon[i++]=new corr(1,0,2,-2,-.179),corrMoon[i++]=new corr(1,0,-2,2,-6.382),corrMoon[i++]=new corr(1,0,-2,0,39.528),corrMoon[i++]=new corr(1,0,-2,-2,9.366),corrMoon[i++]=new corr(0,1,2,0,.415),corrMoon[i++]=new corr(0,1,2,-2,-2.152),corrMoon[i++]=new corr(0,1,-2,2,-1.44),corrMoon[i++]=new corr(0,1,-2,-2,.384),corrMoon[i++]=new corr(2,0,0,1,-.586),corrMoon[i++]=new corr(2,0,0,-1,1.75),corrMoon[i++]=new corr(2,0,0,-3,1.225),corrMoon[i++]=new corr(1,1,0,1,1.267),corrMoon[i++]=new corr(1,-1,0,-1,-1.089),corrMoon[i++]=new corr(0,0,2,-1,.584),corrMoon[i++]=new corr(4,0,0,0,1.938),corrMoon[i++]=new corr(4,0,0,-2,-.952),corrMoon[i++]=new corr(3,1,0,0,-.551),corrMoon[i++]=new corr(3,1,0,-2,-.482),corrMoon[i++]=new corr(3,-1,0,0,.681),corrMoon[i++]=new corr(2,0,2,0,-3.996),corrMoon[i++]=new corr(2,0,2,-2,.557),corrMoon[i++]=new corr(2,0,-2,2,-.459),corrMoon[i++]=new corr(2,0,-2,0,-1.298),corrMoon[i++]=new corr(2,0,-2,-2,.538),corrMoon[i++]=new corr(1,1,-2,-2,.426),corrMoon[i++]=new corr(1,-1,2,0,-.304),corrMoon[i++]=new corr(1,-1,-2,2,-.372),corrMoon[i++]=new corr(0,0,4,0,.418),corrMoon[i++]=new corr(2,-1,0,-1,-.352);var corrMoon2=new Array;function daysInMonth(o,r){var n=new Array(31,28,31,30,31,30,31,31,30,31,30,31);return(r%4==0&&r%100!=0||r%400==0)&&(n[1]=29),n[o]}function moon(jd){with(tdays=jd-2415020,t=tdays/36525,t2=t*t,t3=t*t*t,ob=23.452294-.0130125*t-164e-8*t2+503e-9*t3,l=270.4337361+13.1763965445281*tdays-5.86*t2/3600+.0068*t3/3600,d=350.7374861110581+445267.1142166667*t-.001436111132303874*t2+18888889e-13*t3,pe=334.329556+14648522.52*t/3600-37.17*t2/3600-.045*t3/3600,ms=358.4758333333334+35999.04974999958*t-.0001500000059604645*t2-33333333623078e-19*t3,ml=fix360(l-pe),om=259.183275-6962911.23*t/3600+7.48*t2/3600+.008*t3/3600,f=fix360(l-om),Math){for(r2rad=360*d2r,tb=1e-12*tdays,t2c=tdays*tdays*1e-16,a1=sin(r2rad*(.53733431-10104982*tb+191*t2c)),a2=sin(r2rad*(.71995354-147094228*tb+43*t2c)),c2=cos(r2rad*(.71995354-147094228*tb+43*t2c)),a3=sin(r2rad*(.14222222+1536238*tb)),a4=sin(r2rad*(.48398132-147269147*tb+43*t2c)),c4=cos(r2rad*(.48398132-147269147*tb+43*t2c)),a5=sin(r2rad*(.52453688-147162675*tb+43*t2c)),a6=sin(r2rad*(.84536324-11459387*tb)),a7=sin(r2rad*(.23363774+1232723*tb+191*t2c)),a8=sin(r2rad*(.5875+9050118*tb)),a9=sin(r2rad*(.61043085-67718733*tb)),dlm=.84*a3+.31*a7+14.27*a1+7.261*a2+.282*a4+.237*a6,dpm=-2.1*a3-2.076*a2-.84*a4-.593*a6,dkm=.63*a3+95.96*a2+15.58*a4+1.86*a5,dls=-6.4*a3-.27*a8-1.89*a6+.2*a9,dgc=(-4.318*c2-.698*c4)/3600/360,dgc=1.000002708+139.978*dgc,ml=d2r*(ml+(dlm-dpm)/3600),ms=d2r*(ms+dls/3600),f=d2r*(f+(dlm-dkm)/3600),d=d2r*(d+(dlm-dls)/3600),lk=0,lk1=0,sk=0,sinp=0,nib=0,g1c=0,i1corr=1-6.832e-8*tdays,i2corr=dgc*dgc,i=0;i<93;i++)arg=corrMoon[i].mlcor*ml+corrMoon[i].mscor*ms+corrMoon[i].fcor*f+corrMoon[i].dcor*d,sinarg=sin(arg),0!=corrMoon[i].mscor&&(sinarg*=i1corr,2!=corrMoon[i].mscor&&-2!=corrMoon[i].mscor||(sinarg*=i1corr)),0!=corrMoon[i].fcor&&(sinarg*=i2corr),lk+=corrMoon[i].lcor*sinarg;for(i=0;i<27;i++)arg=corrMoon2[i].ml*ml+corrMoon2[i].ms*ms+corrMoon2[i].f*f+corrMoon2[i].d*d,sinarg=sin(arg),lk1+=corrMoon2[i].l*sinarg;dlid=.822*sin(r2rad*(.3248-.0017125594*tdays)),dlid+=.307*sin(r2rad*(.14905-.0034251187*tdays)),dlid+=.348*sin(r2rad*(.68266-.0006873156*tdays)),dlid+=.662*sin(r2rad*(.65162+.0365724168*tdays)),dlid+=.643*sin(r2rad*(.88098-.0025069941*tdays)),dlid+=1.137*sin(r2rad*(.85823+.036448727*tdays)),dlid+=.436*sin(r2rad*(.71892+.036217918*tdays)),dlid+=.327*sin(r2rad*(.97639+173491e-9*tdays)),l=l+nutation(jd)+(dlm+lk+lk1+dlid)/3600,LmoonYoga=l,l=fix360(l),vl=13.176397,vl+=1.434006*cos(ml),vl+=.280135*cos(2*d),vl+=.251632*cos(2*d-ml),vl+=.09742*cos(2*ml),vl-=.052799*cos(2*f),vl+=.034848*cos(2*d+ml),vl+=.018732*cos(2*d-ms),vl+=.010316*cos(2*d-ms-ml),vl+=.008649*cos(ms-ml),vl-=.008642*cos(2*f+ml),vl-=.007471*cos(ms+ml),vl-=.007387*cos(d),vl+=.006864*cos(3*ml),vl+=.00665*cos(4*d-ml),vl+=.003523*cos(2*d+2*ml),vl+=.003377*cos(4*d-2*ml),vl+=.003287*cos(4*d),vl-=.003193*cos(ms),vl-=.003003*cos(2*d+ms),vl+=.002577*cos(ml-ms+2*d),vl-=.002567*cos(2*f-ml),vl-=.001794*cos(2*d-2*ml),vl-=.001716*cos(ml-2*f-2*d),vl-=.001698*cos(2*d+ms-ml),vl-=.001415*cos(2*d+2*f),vl+=.001183*cos(2*ml-ms),vl+=.00115*cos(d+ms),vl-=.001035*cos(d+ml),vl-=.001019*cos(2*f+2*ml),vl-=.001006*cos(ms+2*ml)}return skor=vl,l}function sun(jd){with(tdays=jd-2415020,t=tdays/36525,t2=t*t,t3=t*t*t,ls=279.696678+.9856473354*tdays+1.089*t2/3600,pes=101.220833+6189.03*t/3600+1.63*t2/3600+.012*t3/3600,ms=fix360(ls-pes+180),g=ms+(.266*Math.sin((31.8+119*t)*d2r)+6.4*Math.sin((231.19+20.2*t)*d2r)+(1.882-.016*t)*Math.sin((57.24+150.27*t)*d2r))/3600,oms=259.18-1934.142*t,ex=.01675104-418e-7*t-126e-9*t2,l=270.4337361+13.1763965445281*tdays-5.86*t2/3600+.0068*t3/3600,ml=296.1046083333757+477198.8491083336*t+.0091916667090522*t2+143888893e-13*t3,le=99.696678+.9856473354*tdays+1.089*t2/3600,om=259.183275-6962911.23*t/3600+7.48*t2/3600+.008*t3/3600,u=kepler(g,ex,3e-7),Math)b=sqrt((1+ex)/(1-ex)),truanom=abs(Math.PI-u)<1e-10?u:2*atan(b*tan(u/2)),truanom=fix360(truanom*r2d),u1=(153.23+22518.7541*t)*d2r,u2=(216.57+45037.5082*t)*d2r,u3=(312.69+32964.3577*t)*d2r,u4=(350.74+445267.1142*t-.00144*t2)*d2r,u6=(353.4+65928.7155*t)*d2r,u5=(315.6+893.3*t)*d2r,dl=.00134*cos(u1),dl+=.00154*cos(u2),dl+=.002*cos(u3),dl+=.00179*sin(u4),dl+=.202*sin(u5)/3600,dr=543e-8*sin(u1),dr+=1575e-8*sin(u2),dr+=1627e-8*sin(u3),dr+=3076e-8*cos(u4),dr+=926999999e-14*sin(u6),il=ls+dl+truanom-ms,r1=1.0000002*(1-ex*ex)/(1+ex*cos(truanom*d2r)),rs=r1+dr,ab=20.496*(1-ex*ex)/rs/3600,ls=il+nutation(jd)-ab,LsunYoga=ls,ls=fix360(ls);return ls}function tithi(o,r,n,t){var i,s={};for(jdt=o,knv=Math.floor((o-2415020)/365.25*12.3685),itit=r;itit<r+2;++itit){for(aspect=t*itit,(i=0)==aspect&&(jdt=novolun(o,knv),i=1),360==aspect&&(jdt=novolun(o,knv),i=1);i<1;)Lsun0=sun(jdt),Lmoon0=moon(jdt),a=fix360(Lsun0+aspect),asp1=a-Lmoon0,180<asp1&&(asp1-=360),asp1<-180&&(asp1+=360),i=1,.001<Math.abs(asp1)&&(jdt+=asp1/(skor-1),i=0);itit==r&&(s.start=calData(jdt+(n-dt)/24)),itit==r+1&&(s.end=calData(jdt+(n-dt)/24))}return s}function nakshatra(o,r,n){var a,t={};for(jdt=o,inak=r;inak<r+2;++inak){for(n1=fix360(80*inak/6),a=0;a<1;)Lmoon0=fix360(moon(jdt)+ayanamsa),asp1=n1-Lmoon0,180<asp1&&(asp1-=360),asp1<-180&&(asp1+=360),a=1,.001<Math.abs(asp1)&&(jdt+=asp1/skor,a=0);inak==r&&(t.start=calData(jdt+(n-dt)/24)),inak==r+1&&(t.end=calData(jdt+(n-dt)/24))}return t}function yoga(o,r,n){var a,t={};jdt=o,z=r;var i=new Array(2);for(i[0]=80*Math.floor(6*z/80)/6,i[1]=80*(Math.floor(6*z/80)+1)/6,iyog=0;iyog<2;++iyog){for(a=0;a<1;)Lsun0=sun(jdt),Lmoon0=moon(jdt),dmoonYoga=LmoonYoga+ayanamsa-491143.07698973856,dsunYoga=LsunYoga+ayanamsa-36976.91240579201,z=dmoonYoga+dsunYoga,asp1=i[iyog]-z,a=1,.001<Math.abs(asp1)&&(jdt+=asp1/(skor+1.0145616633),a=0);0==iyog&&(t.start=calData(jdt+(n-dt)/24)),1==iyog&&(t.end=calData(jdt+(n-dt)/24))}return t}function novolun(jd,knv){with(t=(jd-2415020)/36525,t2=t*t,t3=t*t*t,Math)jdnv=2415020.75933+29.53058868*knv+1178e-7*t2-155e-9*t3,jdnv+=33e-5*sin((166.56+132.87*t-.009173*t2)*d2r),m=359.2242+29.10535608*knv-333e-7*t2-347e-8*t3,ml=306.0253+385.81691806*knv+.0107306*t2+1236e-8*t3,f=21.2964+390.67050646*knv-.0016528*t2-239e-8*t3,m*=d2r,ml*=d2r,f*=d2r,djd=(.1734-393e-6*t)*sin(m),djd+=.0021*sin(2*m),djd-=.4068*sin(ml),djd+=.0161*sin(2*ml),djd-=4e-4*sin(3*ml),djd+=.0104*sin(2*f),djd-=.0051*sin(m+ml),djd-=.0074*sin(m-ml),djd+=4e-4*sin(2*f+m),djd-=4e-4*sin(2*f-m),djd-=6e-4*sin(2*f+ml),djd+=.001*sin(2*f-ml),djd+=5e-4*sin(m+2*ml),jdnv+=djd;return jdnv}function kepler(o,r,n){for(o*=d2r,u0=o,n*=d2r,delta=1;Math.abs(delta)>=n;)delta=(o+r*Math.sin(u0)-u0)/(1-r*Math.cos(u0)),u0+=delta;return u0}function nutation(jd){with(t=(jd-2415020)/36525,t2=t*t,ls=279.6967+36000.7689*t+303e-6*t2,l=270.4341639+481267.8831417*t-.0011333333*t2,ms=358.4758333333334+35999.04974999958*t-.0001500000059604645*t2,ml=296.1046083333757+477198.8491083336*t+.0091916667090522*t2,d=350.7374861110581+445267.1142166667*t-.001436111132303874*t2,om=259.1832750002543-1934.142008333206*t+.0020777778*t2,ls*=d2r,l*=d2r,ms*=d2r,ml*=d2r,d*=d2r,om*=d2r,d2=d*d,l2=l*l,ls2=ls*ls,Math)nut=(-17.2327-.01737*t)*sin(om),nut+=.2088*sin(2*om),nut+=.0675*sin(ml),nut-=.0149*sin(ml-d2),nut-=.0342*sin(l2-om),nut+=.0114*sin(l2-ml),nut-=.2037*sin(l2),nut-=.0261*sin(l2+ml),nut+=.0124*sin(ls2-om),nut+=.0214*sin(ls2-ms),nut-=1.2729*sin(ls2),nut-=.0497*sin(ls2+ms),nut+=.1261*sin(ms),nut/=3600;return nut}function calcayan(o){return t=(o-2415020)/36525,om=259.183275-1934.142008333206*t+.0020777778*t*t+22222222e-13*t*t*t,ls=279.696678+36000.76892*t+3025e-7*t*t,aya=17.23*Math.sin(d2r*om)+1.27*Math.sin(d2r*ls*2)-(5025.64+1.11*t)*t,aya=(aya-80861.27)/3600,aya}function mdy2julian(m,d,y){with(Math)im=12*(y+4800)+m-3,j=(2*(im-12*floor(im/12))+7+365*im)/12,j=floor(j)+d+floor(im/48)-32083,2299171<j&&(j+=floor(im/4800)-floor(im/1200)+38),j-=.5;return j}function dTime(o){var r=[124,85,62,48,37,26,16,10,9,10,11,11,12,13,15,16,17,17,13.7,12.5,12,7.5,5.7,7.1,7.9,1.6,-5.4,-5.9,-2.7,10.5,21.2,24,24.3,29.2,33.2,40.2,50.5,56.9,65.7,75.5];return s=calData(o),dgod=kyear+(kmon-1)/12+(kday-1)/365.25,t=(o-2378497)/36525,1620<=dgod&&dgod<2010?(i1=Math.floor((dgod-1620)/10),di=dgod-(1620+10*i1),dt=r[i1]+(r[i1+1]-r[i1])*di/10):(2010<=dgod&&(dt=25.5*t*t-39),948<=dgod&&dgod<1620&&(dt=25.5*t*t),dgod<948&&(dt=1361.7+320*t+44.3*t*t)),dt/=3600}function calData(jd){with(Math)z1=jd+.5,z2=floor(z1),f=z1-z2,a=z2<2299161?z2:(alf=floor((z2-1867216.25)/36524.25),z2+1+alf-floor(alf/4)),b=a+1524,c=floor((b-122.1)/365.25),d=floor(365.25*c),e=floor((b-d)/30.6001),days=b-d-floor(30.6001*e)+f,kday=floor(days),kmon=e<13.5?e-1:e-13,2.5<kmon&&(kyear=c-4716),kmon<2.5&&(kyear=c-4715),hh1=24*(days-kday),khr=floor(hh1),kmin=hh1-khr,ksek=60*kmin,kmin=floor(ksek),ksek=floor(60*(ksek-kmin)),s=new Date(kyear,kmon-1,kday,khr,kmin,ksek,0);return s}function lon2dmsz(x){with(Math){var d,m,s;x=abs(x),z=floor(x/30),d=floor(x),ss0=round(3600*(x-d)),m=floor(ss0/60),s=ss0%60%60,d%=30,str=d+" "+m+"'"+s+'" '}return str}function lon2dms(x){with(Math){var d,m,s;x=abs(x),d=floor(x),ss0=round(3600*(x-d)),m=floor(ss0/60),s=ss0%60%60,str=d+" "+m+"'"+s+'"'}return str}function fix360(o){for(;o<0;)o+=360;for(;360<o;)o-=360;return o}function weekDay(o){return jd0=Math.floor(o)+.5,o<jd0&&--jd0,jdn=jd0+1.5,dn1=7*Math.floor(jdn/7),wday=Math.floor(jdn-dn1),wday}i=0,corrMoon2[i++]=new corr2(.127,0,0,0,6),corrMoon2[i++]=new corr2(-.151,0,2,0,-4),corrMoon2[i++]=new corr2(-.085,0,0,2,4),corrMoon2[i++]=new corr2(.15,0,1,0,3),corrMoon2[i++]=new corr2(-.091,2,1,0,-6),corrMoon2[i++]=new corr2(-.103,0,3,0,0),corrMoon2[i++]=new corr2(-.301,1,0,2,-4),corrMoon2[i++]=new corr2(.202,1,0,-2,-4),corrMoon2[i++]=new corr2(.137,1,1,0,-1),corrMoon2[i++]=new corr2(.233,1,1,0,-3),corrMoon2[i++]=new corr2(-.122,1,-1,0,1),corrMoon2[i++]=new corr2(-.276,1,-1,0,-3),corrMoon2[i++]=new corr2(.255,0,0,2,1),corrMoon2[i++]=new corr2(.254,0,0,2,-3),corrMoon2[i++]=new corr2(-.1,3,1,0,-4),corrMoon2[i++]=new corr2(-.183,3,-1,0,-2),corrMoon2[i++]=new corr2(-.297,2,2,0,-2),corrMoon2[i++]=new corr2(-.161,2,2,0,-4),corrMoon2[i++]=new corr2(.197,2,-2,0,0),corrMoon2[i++]=new corr2(.254,2,-2,0,-2),corrMoon2[i++]=new corr2(-.25,1,3,0,-2),corrMoon2[i++]=new corr2(-.123,2,0,2,2),corrMoon2[i++]=new corr2(.173,2,0,-2,-4),corrMoon2[i++]=new corr2(.263,1,1,2,0),corrMoon2[i++]=new corr2(.13,3,0,0,-1),corrMoon2[i++]=new corr2(.113,5,0,0,0),corrMoon2[i++]=new corr2(.092,3,0,2,-2),panchang={Day:{},Tithi:{},Nakshatra:{},Karna:{},Yoga:{},Ayanamsa:{},Raasi:{},version:"0.2",calculate:function(d,cb){var n_wday,n_tithi=1,n_naksh=1,n_karana,n_yoga;with(Math){var day=d.getDate(),mon=d.getMonth()+1,year=d.getFullYear(),hr=d.getHours();hr+=d.getMinutes()/60;var tzone=d.getTimezoneOffset()/60*-1}for(inpmin=Math.floor(d.getMinutes()),inpmin<10&&(inpmin="0"+inpmin),dayhr=day+hr/24,jdlt=mdy2julian(mon,dayhr,year),n_wday=weekDay(jdlt),this.Day.name=wd[n_wday],jd0=mdy2julian(mon,day,year),jdut=jd0+(hr-tzone)/24,dt=dTime(jdut),jd=jdut+dt/24,ayanamsa=calcayan(jd),Lmoon=moon(jd),Lsun=sun(jd),dmoonYoga=LmoonYoga+ayanamsa-491143.07698973856,dsunYoga=LsunYoga+ayanamsa-36976.91240579201,zyoga=dmoonYoga+dsunYoga,n_yoga=6*zyoga/80;n_yoga<0;)n_yoga+=27;for(;27<n_yoga;)n_yoga-=27;n3=n_yoga,n_yoga=Math.floor(n_yoga),s_yoga=yoga(jd,zyoga,tzone),Lmoon0=fix360(Lmoon+ayanamsa),n_naksh=Math.floor(6*Lmoon0/80);var s_naksh=nakshatra(jd,n_naksh,tzone);Lmoon0=Lmoon,Lsun0=Lsun,Lmoon0<Lsun0&&(Lmoon0+=360),n_tithi=Math.floor((Lmoon0-Lsun0)/12);var s_tithi=tithi(jd,n_tithi,tzone,12);Lmoon0=Lmoon,Lsun0=Lsun,Lmoon0<Lsun0&&(Lmoon0+=360),nk=Math.floor((Lmoon0-Lsun0)/6),0==nk&&(n_karana=10),57<=nk&&(n_karana=nk-50),0<nk&&nk<57&&(n_karana=nk-1-7*Math.floor((nk-1)/7));var s_karana=tithi(jd,nk,tzone,6);with(Math)var z=floor(abs(fix360(Lmoon+ayanamsa))/30);this.Ayanamsa.name=lon2dms(ayanamsa),this.Raasi.name=zn[z],this.Nakshatra.name=naks[n_naksh],this.Nakshatra.start=s_naksh.start,this.Nakshatra.end=s_naksh.end,this.Karna.name=kar[n_karana],this.Karna.start=s_karana.start,this.Karna.end=s_karana.end,this.Yoga.name=yog[n_yoga],this.Yoga.start=s_yoga.start,this.Yoga.end=s_yoga.end,this.Tithi.name=tith[n_tithi],this.Tithi.start=s_tithi.start,this.Tithi.end=s_tithi.end,cb&&cb()}};

<!DOCTYPE html>
<html><head><style>
.block{  overflow:hidden;   }
.trow {  display: table-row;  }
.alignL {  font-weight: bold; }
.alignL, .alignR {  display: table-cell;
                      margin: 1px 1px;  }
.alignC1, .alignC2 {  display: table-cell;
                      padding-right: 20px;
                      padding-left: 20px;  }
</style></head>
<body>
<h1><div class="trow"><div class="alignL">Panchangam</div><div id="pdt" class="alignC1"></div></div></h1>
<h2><div class="trow"><div class="alignL">By Shankar JV</div></div></h2>
<script src="./panchang.js"></script>
<div class="trow">
<div class="alignL">Tithi: </div><div id="tithi" class="alignC1"></div></div>
<div class="trow">
<div class="alignL"></div><div id="s_tithi_start" class="alignC1"></div>
<div class="alignC2">to</div><div id="s_tithi_end" class="alignR"></div></div>
<div class="trow">
<div class="alignL">&nbsp</div></div>
<div class="trow">
<div class="alignL">Nakshatra: </div><div id="nakshtra" class="alignC1"></div></div>
<div class="trow">
<div class="alignL"></div><div id="s_nakshtra_start" class="alignC1"></div>
<div class="alignC2">to</div><div id="s_nakshtra_end" class="alignR"></div></div>
<div class="trow">
<div class="alignL">&nbsp</div></div>
<div class="trow">
<div class="alignL">Karana: </div><div id="karna" class="alignC1"></div></div>
<div class="trow">
<div class="alignL"></div><div id="s_karna_start" class="alignC1"></div>
<div class="alignC2">to</div><div id="s_karna_end" class="alignR"></div></div>
<div class="trow">
<div class="alignL">&nbsp</div></div>
<div class="trow">
<div class="alignL">Yoga: </div><div id="yoga" class="alignC1"></div></div>
<div class="trow">
<div class="alignL"></div><div id="s_yoga_start" class="alignC1"></div>
<div class="alignC2">to</div><div id="s_yoga_end" class="alignR"></div></div>
<div class="trow">
<div class="alignL">&nbsp</div></div>
<div class="trow">
<div class="alignL" >Day: </div><div id="day" class="alignC1"></div></div>
<script>
var A1=16.8;var A2=19.2;var A3=21.6;var A4=20.8;var A5=15.2;var A6=14;var A7=21.6;var A8=17.6;var A9=22.4;
var A10=21.6;var A11=17.6;var A12=16.8;var A13=18;var A14=17.6;var A15=15.2;var A16=15.2;var A17=13.6;var A18=15.2;
var A19=17.6;var A20=19.2;var A21=17.6;var A22=13.6;var A23=13.6;var A24=16.8;var A25=16;var A26=19.2;var A27=21.6;
var V1=20;var V2=9.6;var V3=12;var V4=16;var V5=5.6;var V6=8.4;var V7=12;var V8=8;var V9=12.8;
var V10=12;var V11=8;var V12=7.2;var V13=8.4;var V14=8;var V15=5.6;var V16=5.6;var V17=4;var V18=5.6;
var V19=8.4;var V20=9.6;var V21=8;var V22=4;var V23=4;var V24=7.2;var V25=6.4;var V26=9.6;var V27=12;
  var t= new Date();
    var dt=t.toLocaleString("en-IN", { dateStyle: "medium" });
    document.getElementById("pdt").innerHTML=dt;
    panchang.calculate(t, function() {
    document.getElementById("tithi").innerHTML=panchang.Tithi.name;
    document.getElementById("s_tithi_start").innerHTML=panchang.Tithi.start.toLocaleString("en-IN");
    console.log("ns: "+ns);
    document.getElementById("s_tithi_end").innerHTML=panchang.Tithi.end.toLocaleString("en-IN");
    document.getElementById("nakshtra").innerHTML=panchang.Nakshatra.name;
    document.getElementById("s_nakshtra_start").innerHTML=panchang.Nakshatra.start.toLocaleString("en-IN");
    document.getElementById("s_nakshtra_end").innerHTML=panchang.Nakshatra.end.toLocaleString("en-IN");
    document.getElementById("karna").innerHTML=panchang.Karna.name;
    document.getElementById("s_karna_start").innerHTML=panchang.Karna.start.toLocaleString("en-IN");
    document.getElementById("s_karna_end").innerHTML=panchang.Karna.end.toLocaleString("en-IN");
    document.getElementById("yoga").innerHTML=panchang.Yoga.name;
    document.getElementById("s_yoga_start").innerHTML=panchang.Yoga.start.toLocaleString("en-IN");
    document.getElementById("s_yoga_end").innerHTML=panchang.Yoga.end.toLocaleString("en-IN");
    document.getElementById("day").innerHTML=panchang.Day.name;    });
    var ns = document.getElementById("s_nakshtra_start").innerHTML=panchang.Nakshatra.start;
    var nf = document.getElementById("s_nakshtra_end").innerHTML=panchang.Nakshatra.end;
    var naklen = Math.floor(Date.parse(nf) - Date.parse(ns));
    console.log("ns: "+ns+", nf: "+nf+", nl:"+naklen);
</script>
<script src="./sun.js"></script>
<div class="trow">
<div class="alignL"></div><div id="rise" class="alignC1"></div>
<div class="alignC2">to</div><div id="rise1" class="alignR"></div>
</div>
<div class="trow">
<div class="alignL">&nbsp</div></div>
<div class="trow">
<div class="alignL">Sun Rise & Set: </div><div id="riz" class="alignC1"></div>
<div class="alignC2"> & </div><div id="set" class="alignR"></div></div>
<div class="trow">
<div class="alignL">&nbsp</div></div>
<div class="trow">
<div class="alignL">RahuKalam: </div><div id="rkst" class="alignC1"></div>
<div class="alignC2">to</div><div id="rkft" class="alignR"></div></div>
<div class="trow">
<div class="alignL">&nbsp</div></div>
<div class="trow">
<div class="alignL">YamaGandam: </div><div id="ygst" class="alignC1"></div>
<div class="alignC2">to</div><div id="ygft" class="alignR"></div></div>
<div class="trow">
<div class="alignL">&nbsp</div></div>
<div class="trow">
<div class="alignL">GulikaKakam: </div><div id="gkst" class="alignC1"></div>
<div class="alignC2">to</div><div id="gkft" class="alignR"></div></div>
<div class="trow">
<div class="alignL">&nbsp</div></div>
<div class="trow">
<div class="alignL">DurMuhurtam: </div><div id="dmst" class="alignC1"></div>
<div class="alignC2">to</div><div id="dmft" class="alignR"></div></div>
<div class="trow">
<div class="alignL"></div><div id="dmbt" class="alignC1"></div>
<div class="alignC2">-</div><div id="dmet" class="alignR"></div></div>
<script>
navigator.geolocation.getCurrentPosition(function(position) {
   	var srise = new Date().sunrise(position.coords.latitude, position.coords.longitude);
   	var sset = new Date().sunset(position.coords.latitude, position.coords.longitude);
   	var srise1 = new Date(srise.getTime() + (24 * 60 * 60 * 1000)).sunrise(position.coords.latitude, position.coords.longitude);
    var daylen = Math.floor(sset - srise);
    var daypart = Math.floor(daylen / 8);
    var daypart0 = srise;
    var daypart1 = new Date(Math.floor((daypart0.getTime() + daypart)));
    var daypart2 = new Date(Math.floor((daypart1.getTime() + daypart)));
    var daypart3 = new Date(Math.floor((daypart2.getTime() + daypart)));
    var daypart4 = new Date(Math.floor((daypart3.getTime() + daypart)));
    var daypart5 = new Date(Math.floor((daypart4.getTime() + daypart)));
    var daypart6 = new Date(Math.floor((daypart5.getTime() + daypart)));
    var daypart7 = new Date(Math.floor((daypart6.getTime() + daypart)));
    var daypart8 = new Date(Math.floor((daypart7.getTime() + daypart)));
  var wday = new Date().getDay();
  switch(wday) {
  case 0:
    var rks = daypart7;
    var rkf = daypart8;
    var ygs = daypart4;
    var ygf = daypart5;
    var gks = daypart6;
    var gkf = daypart7;
    var dms = new Date(Math.floor(srise.getTime() + ((daylen * 10.4) / 12)));
    var dmf = new Date(Math.floor(dms.getTime() + (48 * 60 * 1000)));
    break;
  case 1:
    var rks = daypart1;
    var rkf = daypart2;
    var ygs = daypart3;
    var ygf = daypart4;
    var gks = daypart5;
    var gkf = daypart6;
    var dms = new Date(Math.floor(srise.getTime() + ((daylen * 6.4) / 12)));
    var dmf = new Date(Math.floor(dms.getTime() + (48 * 60 * 1000)));
    var dmb = new Date(Math.floor(srise.getTime() + ((daylen * 8.8) / 12)));
    var dme = new Date(Math.floor(dmb.getTime() + (48 * 60 * 1000)));
    break;
  case 2:
    var rks = daypart6;
    var rkf = daypart7;
    var ygs = daypart2;
    var ygf = daypart3;
    var gks = daypart4;
    var gkf = daypart5;
    var dms = new Date(Math.floor(srise.getTime() + ((daylen * 2.4) / 12)));
    var dmf = new Date(Math.floor(dms.getTime() + (48 * 60 * 1000)));
    var niglen = Math.floor(srise1 - sset);
    var dmb = new Date(Math.floor(sset.getTime() + ((niglen * 4.8) / 12)));
    var dme = new Date(Math.floor(dmb.getTime() + (48 * 60 * 1000)));
    break;
  case 3:
    var rks = daypart4;
    var rkf = daypart5;
    var ygs = daypart1;
    var ygf = daypart2;
    var gks = daypart3;
    var gkf = daypart4;
    var dms = new Date(Math.floor(srise.getTime() + ((daylen * 5.6) / 12)));
    var dmf = new Date(Math.floor(dms.getTime() + (48 * 60 * 1000)));
    break;
  case 4:
    var rks = daypart5;
    var rkf = daypart6;
    var ygs = daypart0;
    var ygf = daypart1;
    var gks = daypart2;
    var gkf = daypart3;
    var dms = new Date(Math.floor(srise.getTime() + ((daylen * 4) / 12)));
    var dmf = new Date(Math.floor(dms.getTime() + (48 * 60 * 1000)));
    var dmb = new Date(Math.floor(srise.getTime() + ((daylen * 8.8) / 12)));
    var dme = new Date(Math.floor(dmb.getTime() + (48 * 60 * 1000)));
    break;
  case 5:
    var rks = daypart3;
    var rkf = daypart4;
    var ygs = daypart6;
    var ygf = daypart7;
    var gks = daypart1;
    var gkf = daypart2;
    var dms = new Date(Math.floor(srise.getTime() + ((daylen * 2.4) / 12)));
    var dmf = new Date(Math.floor(dms.getTime() + (48 * 60 * 1000)));
    var dmb = new Date(Math.floor(srise.getTime() + ((daylen * 6.4) / 12)));
    var dme = new Date(Math.floor(dmb.getTime() + (48 * 60 * 1000)));
    break;
  case 6:
    var rks = daypart2;
    var rkf = daypart3;
    var ygs = daypart5;
    var ygf = daypart6;
    var gks = daypart0;
    var gkf = daypart1;
    var dms = new Date(Math.floor(srise.getTime() + ((daylen * 1.6) / 12)));
    var dmf = new Date(Math.floor(dms.getTime() + (48 * 60 * 1000)));
    break;  }
    document.getElementById("rise").innerHTML=srise.toLocaleString("en-IN");
    document.getElementById("rise1").innerHTML=srise1.toLocaleString("en-IN");
    document.getElementById("riz").innerHTML=srise.toLocaleString("en-IN");
    document.getElementById("set").innerHTML=sset.toLocaleString("en-IN");
    document.getElementById("rkst").innerHTML=rks.toLocaleString("en-IN");
    document.getElementById("rkft").innerHTML=rkf.toLocaleString("en-IN");
    document.getElementById("ygst").innerHTML=ygs.toLocaleString("en-IN");
    document.getElementById("ygft").innerHTML=ygf.toLocaleString("en-IN");
    document.getElementById("gkst").innerHTML=gks.toLocaleString("en-IN");
    document.getElementById("gkft").innerHTML=gkf.toLocaleString("en-IN");
    document.getElementById("dmst").innerHTML=dms.toLocaleString("en-IN");
    document.getElementById("dmft").innerHTML=dmf.toLocaleString("en-IN");
    document.getElementById("dmbt").innerHTML=dmb.toLocaleString("en-IN");
    document.getElementById("dmet").innerHTML=dme.toLocaleString("en-IN");  });
</script></body></html>
